<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodel="clr-namespace:MobileITJ.ViewModels"
             x:DataType="viewmodel:CreateJobViewModel"
             x:Class="MobileITJ.Views.Customer.CreateJobPage"
             Title="Create Job"
             BackgroundColor="{StaticResource BackgroundColor}">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">

            <Label Text="Post a New Job" 
                   FontSize="22" 
                   FontAttributes="Bold" 
                   TextColor="{StaticResource PrimaryColor}" 
                   HorizontalOptions="Center" />

            <Frame Padding="15" CornerRadius="10" BackgroundColor="White" HasShadow="True">
                <VerticalStackLayout Spacing="10">

                    <Label Text="Job Title" FontAttributes="Bold" />
                    <Entry Placeholder="e.g. Urgent Pipe Repair" Text="{Binding JobTitle}" />
                    <Label Text="Job Description" FontAttributes="Bold" />
                    <Entry Placeholder="e.g. Fix leaking pipe in the basement" Text="{Binding JobDescription}" />

                    <Label Text="Location" FontAttributes="Bold" />
                    <Entry Placeholder="e.g. 123 Main St" Text="{Binding Location}" />

                    <Label Text="Required Skill" FontAttributes="Bold" />
                    <Frame Padding="0" BorderColor="LightGray" CornerRadius="5" HasShadow="False">
                        <Picker Title="Select Skill Needed"
                                ItemsSource="{Binding AvailableSkills}"
                                SelectedItem="{Binding SelectedSkill}"
                                TextColor="Black" 
                                TitleColor="Gray"/>
                    </Frame>

                    <Entry Placeholder="Type specific skill..." 
                           Text="{Binding CustomSkillEntry}"
                           IsVisible="{Binding IsCustomSkillVisible}"
                           Margin="0,5,0,0"/>

                    <Grid ColumnDefinitions="*,*">
                        <VerticalStackLayout Grid.Column="0" Margin="0,0,5,0">
                            <Label Text="Workers Needed" FontAttributes="Bold" />
                            <Entry Placeholder="#" 
                                   Text="{Binding WorkersNeeded}" 
                                   Keyboard="Numeric" />
                        </VerticalStackLayout>

                        <VerticalStackLayout Grid.Column="1" Margin="5,0,0,0">
                            <Label Text="Rate per Hour" FontAttributes="Bold" />
                            <Entry Placeholder="Php" 
                                   Text="{Binding RatePerHour}" 
                                   Keyboard="Numeric" />
                        </VerticalStackLayout>
                    </Grid>

                </VerticalStackLayout>
            </Frame>

            <Label Text="{Binding ErrorMessage}" 
                   TextColor="Red" 
                   IsVisible="{Binding ErrorMessage, Converter={StaticResource IsNotNullConverter}}" />

            <Button Text="Post Job" 
                    Command="{Binding SubmitJobCommand}" 
                    BackgroundColor="{StaticResource PrimaryColor}" 
                    TextColor="White" 
                    CornerRadius="10" 
                    HeightRequest="50" />

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>